#!/bin/sh

getopts "dimts:" FLAG
case "$FLAG" in
	d)
		pactl set-sink-volume @DEFAULT_SINK@ -5%;;
	i)
		(( $[ $(pactl get-sink-volume @DEFAULT_SINK@ | grep -Po '\d+(?=%)' | head -n 1) + 5 ] > 100 )) && \
		pactl set-sink-volume @DEFAULT_SINK@ 100% || \
		pactl set-sink-volume @DEFAULT_SINK@ +5%;;
	m)
		pactl set-sink-mute @DEFAULT_SINK@ toggle;;
	t)
		state=$(pactl get-source-mute "$(pactl get-default-source)" | grep -q yes && echo 0 || echo 1)
		for src in $(pactl list short sources | awk '{print $1}'); do
			pactl set-source-mute "$src" "$state"
		done;;
	s)
		VOLUME=$2
		(( VOLUME < 0 )) && VOLUME=0
		(( VOLUME > 100 )) && VOLUME=100
		pactl set-sink-volume @DEFAULT_SINK@ $VOLUME%;;
esac
